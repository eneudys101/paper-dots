import i3ipc

def rename_workspace(i3, e):
    focused_ws = i3.get_tree().find_focused().workspace().name
    app = i3.get_tree().find_focused().app_id

    new_name = {
        "firefox": "Web",
        "kitty": "Terminal"
    }.get(app, app)

    if focused_ws != new_name:
        i3.command(f'rename workspace "{focused_ws}" to "{new_name}"')

def name_new_workspace_empty(i3, e):
    # Rename the newly created workspace to "empty"
    i3.command(f'rename workspace "{e.current.name}" to "empty"')

i3 = i3ipc.Connection()
i3.on('window::focus', rename_workspace)
i3.on('workspace::init', name_new_workspace_empty)
i3.main()
